# ============================================================
# SchoolPay Backend — Python Dependencies
# Install: pip install -r requirements.txt
# ============================================================

# ── Web Framework ────────────────────────────────────────────
fastapi>=0.111.0
uvicorn[standard]>=0.29.0
gunicorn>=22.0.0               # Production WSGI server

# ── Database ─────────────────────────────────────────────────
supabase>=2.4.3                # Supabase Python client
postgrest>=0.16.1              # Supabase REST client (auto-installed)

# ── Auth & Security ──────────────────────────────────────────
python-jose[cryptography]>=3.3.0  # JWT encode/decode
passlib[bcrypt]>=1.7.4            # Password hashing (for platform admin)
python-multipart>=0.0.9           # Required for file uploads (bank transfer proof)
cryptography>=42.0.5              # JWT signing backend

# ── Validation & Settings ────────────────────────────────────
pydantic>=2.7.1                # Data validation (FastAPI uses this)
pydantic-settings>=2.2.1       # .env file loading
email-validator>=2.1.1         # Validates email fields in Pydantic

# ── HTTP Client ──────────────────────────────────────────────
httpx>=0.27.0                  # Async HTTP (Paystack calls, n8n webhooks)

# ── Payments ─────────────────────────────────────────────────
# Paystack has no official Python SDK — we call REST API directly via httpx

# ── PDF Generation ───────────────────────────────────────────
reportlab>=4.2.0               # Generate PDF receipts

# ── Utilities ────────────────────────────────────────────────
python-dateutil>=2.9.0         # Date parsing helpers
pytz>=2024.1                   # Timezone (Africa/Lagos)
phonenumbers>=8.13.37          # Nigerian phone number validation
ulid-py>=1.1.0                 # ULID for readable IDs (optional)

# ── Development ──────────────────────────────────────────────
pytest>=8.2.0
pytest-asyncio>=0.23.6
httpx>=0.27.0                  # Also used for test client
python-dotenv>=1.0.1           # Load .env in development
